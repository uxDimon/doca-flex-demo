class r{constructor(e,t=()=>!1){this.selectEl=e,this.optionsWidth={},this.callbackChange=t,this._created()}_created(){this._createdOptionsWidth(),this.selectEl.addEventListener("change",e=>{this._setWidth(),this.callbackChange(e.currentTarget.value)})}_createdOptionsWidth(){window.addEventListener("load",()=>{const e=[];for(const t of this.selectEl.options){let i=document.createElement("span");i.innerHTML=t.text,e.push(i),this.selectEl.insertAdjacentElement("afterend",i)}for(const t of e)this.optionsWidth[t.innerText]=t.offsetWidth+24,t.remove();this._setWidth()})}_setWidth(){this.selectEl.style.width=this.optionsWidth[this.selectEl.selectedOptions[0].value]+"px"}}class a{constructor(){this.SIZE_CLASS="_size",this.demoWrapEl=document.querySelector("[data-demo-wrap]"),this.itemEl=this.demoWrapEl.querySelector("[data-demo-item]"),this.endEl=this.demoWrapEl.querySelector("[data-demo-end]"),this.itemListEl=[],this._created()}_created(){this.itemEl.remove();for(let e=0;e<3;e++)this._itemConstructor(e)}_itemConstructor(e){let t=this.itemEl.cloneNode(!0);const i=t.querySelector("[data-demo-item-name]"),o=t.querySelector('[data-demo-item-btn="remove"]'),n=t.querySelector('[data-demo-item-btn="size"]'),l=t.querySelector('[data-demo-item-btn="add"]');i.innerText=i.innerText+" "+(e+1),o.addEventListener("click",()=>{this.itemListEl.length>1&&this._removeItem()}),n.addEventListener("click",()=>{if(t.classList.contains(this.SIZE_CLASS))t.style.height="",t.classList.remove(this.SIZE_CLASS);else{const d=50*(Math.random()+1.5);t.style.height=d+"px",t.classList.add(this.SIZE_CLASS)}}),l.addEventListener("click",()=>{this._addItem()}),this.endEl.insertAdjacentElement("beforebegin",t),this.itemListEl.push(t)}_removeItem(){const e=this.itemListEl.length-1;this.itemListEl[e].remove(),this.itemListEl.splice(e,1)}_addItem(){this._itemConstructor(this.itemListEl.length)}}export{r as C,a as D};
